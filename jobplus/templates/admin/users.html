{% extends 'admin/admin_base.html' %}
{% from 'macros.html' import render_pagination %}

{% block title %}User manage{% endblock %}

{% block operation %}
<a href="{{ url_for('admin.add_user') }}" type='button' class="btn btn-primary">
    <span class='glyphicon glyphicon-plus' aria-hidden='true'></span>
    Add User
</a>
<a href="{{ url_for('admin.add_company') }}" type='button' class="btn btn-primary">
    <span class='glyphicon glyphicon-plus' aria-hidden='true'></span>
    Add Company
</a>
{% endblock %}

{% block admin %}
<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Username</th>
            <th>Type</th>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Mobile</th>
            <th>companyurl</th>
            <th>Status</th>
            <th>Operation</th>
        </tr>
    <tbody>
        {% for user in pagination.items %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.username }}</td>
            <td>{% if user.is_company %}{{ "Company" }}{% else %}{{ "User" }}{% endif %}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.role }}</td>
            <td>{{ user.mobile }}</td>
            <td>{% if user.is_company %}{{ user.company_detail.url }}{% else %}{{ '' }}{% endif %}</td>
            <td>
            <td>
                <div class="btn-group" role="group">
                    <a href="#" type='button' class="btn btn-default">
                        <span class='glyphicon glyphicon-pencil' aria-hidden='true'></span>
                    </a>
                    <a href="#" type='button' class='btn btn-default' onclick="confirm('Are you sure to delete this user?')">
                        <span class="glyphicon glyphicon-trash" aria-hidden='true'></span>
                    </a>
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</thead>
</table>
{{ render_pagination(pagination, 'admin.users') }}
{% endblock %}
        </tr>
